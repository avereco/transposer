function selectElement(e){if(window.getSelection){var t=window.getSelection();t.removeAllRanges();var n=document.createRange();n.selectNodeContents(e),t.addRange(n)}else if(document.selection){var o=document.body.createTextRange();o.moveToElementText(e),o.select()}}var semitonesOffset=0;$(document).ready(function(){$("#transpose-button").click(function(){var e=$("#current-key").val();"auto"==e&&(e=null);var t=$("#new-key").val(),n=transposeToKey($("#chordarea").val(),e,t,chordSpanFormatter),o=n[0];t=n[1],console.log(t),$("#output").html(o.replace(/(?:\r\n|\r|\n)/g,"<br />")),$("#new-key").val(n[1]),semitonesOffset=n[2]}),$("#transpose-up").click(function(){var e=$("#current-key").val();"auto"==e&&(e=null),semitonesOffset++;var t=transposeSemitones($("#chordarea").val(),e,semitonesOffset,chordSpanFormatter),n=t[0];$("#output").html(n.replace(/(?:\r\n|\r|\n)/g,"<br />")),$("#new-key").val(t[1])}),$("#transpose-down").click(function(){var e=$("#current-key").val();"auto"==e&&(e=null),semitonesOffset--;var t=transposeSemitones($("#chordarea").val(),e,semitonesOffset,chordSpanFormatter),n=t[0];$("#output").html(n.replace(/(?:\r\n|\r|\n)/g,"<br />")),$("#new-key").val(t[1])}),$("#example").click(function(){$("#chordarea").val($("#example-text").val())}),$("#reset").click(function(){semitonesOffset=0,$("#output").html("")}),$('[data-toggle="tooltip"]').tooltip();for(var e=0;e<themes.length;e++)$("#themes").append('<option value="'+e+'">'+themes[e].name+"</option>");$("#themes").change(function(){colours=themes[Number($("#themes option:selected").val())].colours}),$("#output").click(function(){selectElement($("#output")[0])})});